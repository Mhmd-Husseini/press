"use strict";exports.id=4205,exports.ids=[4205],exports.modules={84824:(e,s,a)=>{a.d(s,{A:()=>t});var r=a(45512);a(58009);var l=a(20438);function t({roles:e,type:s="any",fallback:a=null,children:t}){let{user:d,loading:o}=(0,l.A)(),i=Array.isArray(e)?e:[e];return o?null:d&&d.roles?("all"===s?i.every(e=>d.roles.includes(e)):i.some(e=>d.roles.includes(e)))?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)(r.Fragment,{children:a}):(0,r.jsx)(r.Fragment,{children:a})}},86668:(e,s,a)=>{a.d(s,{A:()=>d});var r=a(45512),l=a(79334),t=a(58009);function d({user:e,onSubmit:s,submitButtonText:a}){let d=(0,l.useRouter)(),[o,i]=(0,t.useState)(!1),[n,c]=(0,t.useState)(null),[m,u]=(0,t.useState)([]),[b,x]=(0,t.useState)(!0),[h,f]=(0,t.useState)(e?.roles?.map(e=>e.role.name)||["USER"]),p=async a=>{a.preventDefault(),i(!0),c(null);try{let r=new FormData(a.currentTarget);r.set("roles",h.join(",")),e?.id&&r.set("id",e.id);let l=await s(r);l.success?(d.push("/dashboard/users"),d.refresh()):c(l.error||"An error occurred")}catch(e){c("An unexpected error occurred"),console.error(e)}finally{i(!1)}},g=e=>{f(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,r.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[n&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:n}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Basic Information"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:["Email ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",defaultValue:e?.email||"",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:["First Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"firstName",name:"firstName",defaultValue:e?.firstName||"",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:["Last Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"lastName",name:"lastName",defaultValue:e?.lastName||"",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:["Password ",!e&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",required:!e,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),e&&(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Leave blank to keep current password"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Additional Information"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"firstNameArabic",className:"block text-sm font-medium text-gray-700",children:"First Name (Arabic)"}),(0,r.jsx)("input",{type:"text",id:"firstNameArabic",name:"firstNameArabic",defaultValue:e?.firstNameArabic||"",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",dir:"rtl"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"lastNameArabic",className:"block text-sm font-medium text-gray-700",children:"Last Name (Arabic)"}),(0,r.jsx)("input",{type:"text",id:"lastNameArabic",name:"lastNameArabic",defaultValue:e?.lastNameArabic||"",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",dir:"rtl"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"languagePreference",className:"block text-sm font-medium text-gray-700",children:"Language Preference"}),(0,r.jsxs)("select",{id:"languagePreference",name:"languagePreference",defaultValue:e?.languagePreference||"en",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"en",children:"English"}),(0,r.jsx)("option",{value:"ar",children:"Arabic"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"isActive",className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,r.jsxs)("select",{id:"isActive",name:"isActive",defaultValue:e?.isActive===!1?"false":"true",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"true",children:"Active"}),(0,r.jsx)("option",{value:"false",children:"Inactive"})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"User Roles"}),b?(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"h-10 w-20 bg-gray-200 animate-pulse rounded-md"}),(0,r.jsx)("div",{className:"h-10 w-20 bg-gray-200 animate-pulse rounded-md"}),(0,r.jsx)("div",{className:"h-10 w-20 bg-gray-200 animate-pulse rounded-md"})]}):(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:m.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>g(e.name),className:`px-4 py-2 rounded-md ${h.includes(e.name)?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,title:e.description||e.name,children:e.name},e.id))}),0===h.length&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:"Please select at least one role"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Biography"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio (English)"}),(0,r.jsx)("textarea",{id:"bio",name:"bio",rows:4,defaultValue:e?.bio||"",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"bioArabic",className:"block text-sm font-medium text-gray-700",children:"Bio (Arabic)"}),(0,r.jsx)("textarea",{id:"bioArabic",name:"bioArabic",rows:4,defaultValue:e?.bioArabic||"",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",dir:"rtl"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:"Avatar"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"avatar",className:"block text-sm font-medium text-gray-700",children:"Avatar URL"}),(0,r.jsx)("input",{type:"text",id:"avatar",name:"avatar",defaultValue:e?.avatar||"",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),e?.avatar&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("img",{src:e.avatar,alt:"User avatar",className:"w-20 h-20 rounded-full object-cover"})})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>d.back(),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:o||0===h.length,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:o?"Saving...":a})]})]})}}};