(()=>{var e={};e.id=3896,e.ids=[3896],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},23723:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=t(70260),a=t(28203),n=t(25155),i=t.n(n),o=t(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d=["",{children:["admin",{children:["authors",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,64311)),"D:\\press\\src\\app\\admin\\authors\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,85798)),"D:\\press\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,71354)),"D:\\press\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\press\\src\\app\\admin\\authors\\new\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/authors/new/page",pathname:"/admin/authors/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},69820:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"007ef74b69aebf12238ea651195ddc937e58ae17f8":()=>s.HW,"00d4248e5cc13d9a24c27da7f63c4e748a633f8d0d":()=>s.ri,"4050a74c93af136bf3a3faa21dd4a4d846bc6cf489":()=>s.kz,"408e655556292a0a94341763d8193fda605da02beb":()=>s.iD});var s=t(90119)},35170:(e,r,t)=>{Promise.resolve().then(t.bind(t,64311))},53322:(e,r,t)=>{Promise.resolve().then(t.bind(t,28427))},28427:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(45512),a=t(58009),n=t(79334),i=t(28531),o=t.n(i);function l(){let e=(0,n.useRouter)(),[r,t]=(0,a.useState)(!1),[i,l]=(0,a.useState)({nameEn:"",nameAr:"",country:"",bio:"",bioAr:"",email:"",avatar:"",isActive:!0,socialLinks:{}}),[d,c]=(0,a.useState)({}),u=(e,r)=>{l(t=>({...t,[e]:r})),d[e]&&c(r=>({...r,[e]:void 0}))},m=(e,r)=>{l(t=>({...t,socialLinks:{...t.socialLinks,[e]:r}}))},p=()=>{let e={};return i.nameEn.trim()||(e.nameEn="English name is required"),i.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)&&(e.email="Please enter a valid email address"),c(e),0===Object.keys(e).length},x=async r=>{if(r.preventDefault(),p()){t(!0);try{let r=await fetch("/api/admin/authors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...i,socialLinks:Object.keys(i.socialLinks).length>0?i.socialLinks:void 0})});if(r.ok)e.push("/admin/authors");else{let e=await r.json();alert(e.error||"Failed to create author")}}catch(e){console.error("Error creating author:",e),alert("Failed to create author")}finally{t(!1)}}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Add New Author"}),(0,s.jsx)(o(),{href:"/admin/authors",className:"text-gray-600 hover:text-gray-900 font-medium",children:"← Back to Authors"})]}),(0,s.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,s.jsxs)("form",{onSubmit:x,className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"English Name *"}),(0,s.jsx)("input",{type:"text",value:i.nameEn,onChange:e=>u("nameEn",e.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.nameEn?"border-red-500":"border-gray-300"}`,placeholder:"Enter author's English name"}),d.nameEn&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.nameEn})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arabic Name"}),(0,s.jsx)("input",{type:"text",value:i.nameAr,onChange:e=>u("nameAr",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-arabic text-right",placeholder:"أدخل اسم الكاتب بالعربية",dir:"rtl"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),(0,s.jsx)("input",{type:"text",value:i.country,onChange:e=>u("country",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter author's country"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",value:i.email,onChange:e=>u("email",e.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter author's email"}),d.email&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.email})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Biography"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"English Biography"}),(0,s.jsx)("textarea",{rows:4,value:i.bio,onChange:e=>u("bio",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter author's biography in English"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arabic Biography"}),(0,s.jsx)("textarea",{rows:4,value:i.bioAr,onChange:e=>u("bioAr",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-arabic text-right",placeholder:"أدخل السيرة الذاتية للكاتب بالعربية",dir:"rtl"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Social Media Links"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["twitter","facebook","linkedin","instagram"].map(e=>(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 capitalize",children:e}),(0,s.jsx)("input",{type:"url",value:i.socialLinks[e]||"",onChange:r=>m(e,r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`https://${e}.com/username`})]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Avatar URL"}),(0,s.jsx)("input",{type:"url",value:i.avatar,onChange:e=>u("avatar",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/avatar.jpg"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:e=>u("isActive",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active (author can be assigned to posts)"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,s.jsx)(o(),{href:"/admin/authors",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:r,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Creating...":"Create Author"})]})]})})]})}},64311:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\press\\\\src\\\\app\\\\admin\\\\authors\\\\new\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\press\\src\\app\\admin\\authors\\new\\page.tsx","default")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,6154,3928,2367,4549,574],()=>t(23723));module.exports=s})();