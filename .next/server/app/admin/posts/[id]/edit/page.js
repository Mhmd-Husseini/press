(()=>{var e={};e.id=8261,e.ids=[8261],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},13297:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=r(70260),n=r(28203),i=r(25155),a=r.n(i),d=r(67292),o={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);r.d(t,o);let l=["",{children:["admin",{children:["posts",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,40942)),"D:\\press\\src\\app\\admin\\posts\\[id]\\edit\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,85798)),"D:\\press\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"D:\\press\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\press\\src\\app\\admin\\posts\\[id]\\edit\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/admin/posts/[id]/edit/page",pathname:"/admin/posts/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},16182:(e,t,r)=>{Promise.resolve().then(r.bind(r,40942))},39742:(e,t,r)=>{Promise.resolve().then(r.bind(r,4545))},4545:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(45512),n=r(58009),i=r(79334),a=r(22511),d=r(12561),o=r(44195);function l({className:e}){return(0,s.jsx)("div",{className:(0,o.cn)("animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",e)})}function c({message:e,title:t="Error"}){return(0,s.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-red-800",children:t}),(0,s.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,s.jsx)("p",{children:e})})]})]})})}var u=r(20438),p=r(28531),m=r.n(p);function x({children:e,authorId:t,postId:r}){let{user:a}=(0,u.A)();(0,i.useRouter)();let[d,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!0);return l?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):d?(0,s.jsx)(s.Fragment,{children:e}):(0,s.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-6 rounded-md shadow-sm",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"ml-3",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-red-800",children:"Access Denied"}),(0,s.jsxs)("div",{className:"mt-2 text-red-700",children:[(0,s.jsx)("p",{children:"You don't have permission to edit this post."}),(0,s.jsx)("p",{className:"mt-2",children:"As an Editor, you can only edit posts that you created."}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(m(),{href:"/admin/content",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Back to Content List"})})]})]})]})})}function h(){(0,i.useParams)().id;let[e,t]=(0,n.useState)(null),[r,o]=(0,n.useState)(!0),[u,p]=(0,n.useState)(null);return(0,s.jsxs)("div",{className:"py-6 space-y-6",children:[(0,s.jsx)(a.default,{title:"Edit Post",description:"Update an existing post",actions:[{label:"Back to Posts",href:"/admin/content",variant:"secondary"}]}),r?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(l,{className:"h-8 w-1/3"}),(0,s.jsx)(l,{className:"h-32 w-full"}),(0,s.jsx)(l,{className:"h-64 w-full"})]}):u?(0,s.jsx)(c,{message:u}):(0,s.jsx)(x,{authorId:e?.authorId||void 0,postId:e?.id,children:(0,s.jsx)(d.default,{post:e||void 0,isEdit:!0})})]})}},44195:(e,t,r)=>{"use strict";r.d(t,{EJ:()=>d,Yq:()=>a,bT:()=>l,cn:()=>i,tr:()=>o});var s=r(82281),n=r(94805);function i(...e){return(0,n.QP)((0,s.$)(e))}function a(e,t="en-US"){if(!e)return"";let r="string"==typeof e?new Date(e):e;return isNaN(r.getTime())?"":r.toLocaleDateString(t,{year:"numeric",month:"long",day:"numeric"})}function d(e,t=100){return!e||e.length<=t?e||"":e.substring(0,t).trim()+"..."}let o=(e,t="en")=>{let r=new Date(e);return new Intl.DateTimeFormat("ar"===t?"ar-AE":"en-US",{year:"numeric",month:"long",day:"numeric"}).format(r)},l=(e,t,r="en",s="name")=>{if(!e||0===e.length)return;let n=e.find(e=>e.locale===t);if(n)return n[s];let i=e.find(e=>e.locale===r);return i?i[s]:e[0][s]}},40942:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\press\\\\src\\\\app\\\\admin\\\\posts\\\\[id]\\\\edit\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\press\\src\\app\\admin\\posts\\[id]\\edit\\page.tsx","default")}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,6154,3928,2367,4549,5103,8621,574,5032],()=>r(13297));module.exports=s})();