(()=>{var e={};e.id=9556,e.ids=[9556],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},63031:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(70260),a=r(28203),n=r(25155),i=r.n(n),l=r(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["admin",{children:["content",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,55355)),"D:\\press\\src\\app\\admin\\content\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,85798)),"D:\\press\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"D:\\press\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\press\\src\\app\\admin\\content\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/content/page",pathname:"/admin/content",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},69820:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"007ef74b69aebf12238ea651195ddc937e58ae17f8":()=>s.HW,"00d4248e5cc13d9a24c27da7f63c4e748a633f8d0d":()=>s.ri,"4050a74c93af136bf3a3faa21dd4a4d846bc6cf489":()=>s.kz,"408e655556292a0a94341763d8193fda605da02beb":()=>s.iD});var s=r(90119)},63934:(e,t,r)=>{Promise.resolve().then(r.bind(r,93027))},32390:(e,t,r)=>{Promise.resolve().then(r.bind(r,45608))},45608:(e,t,r)=>{"use strict";r.d(t,{default:()=>x});var s=r(45512),a=r(58009),n=r(79334),i=r(28531),l=r.n(i);let o=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});var d=r(84183),c=r(22511),m=r(44195),u=r(20438);function x(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),{user:r}=(0,u.A)(),[i,x]=(0,a.useState)([]),[p,h]=(0,a.useState)([]),[g,f]=(0,a.useState)(!0),[b,y]=(0,a.useState)(null),[v,j]=(0,a.useState)({page:1,limit:10,total:0,pages:0}),w=t.get("category"),N=(parseInt(t.get("page")||"1"),parseInt(t.get("limit")||"10"),t.get("search"),r=>{let s=new URLSearchParams(t);r?s.set("category",r):s.delete("category"),s.set("page","1"),e.push(`/admin/content?${s.toString()}`)}),k=e=>{let t=e.translations.find(e=>"en"===e.locale),r=e.translations[0];return t?.title||r?.title||"Untitled Post"},E=e=>{switch(e){case"PUBLISHED":return"bg-green-100 text-green-800";case"DRAFT":case"ARCHIVED":default:return"bg-gray-100 text-gray-800";case"PENDING_REVIEW":return"bg-yellow-100 text-yellow-800";case"UNDER_REVIEW":return"bg-blue-100 text-blue-800";case"APPROVED":return"bg-purple-100 text-purple-800";case"DECLINED":return"bg-red-100 text-red-800"}},P=e=>{switch(e){case"PUBLISHED":return"Published";case"DRAFT":return"Draft";case"PENDING_REVIEW":return"Pending Review";case"UNDER_REVIEW":return"Under Review";case"APPROVED":return"Approved";case"DECLINED":return"Declined";case"ARCHIVED":return"Archived";default:return e}},S=e=>{if(e.authorName)return e.authorName;if(!e.author)return"Unknown";if("name"in e.author&&"string"==typeof e.author.name&&e.author.name)return e.author.name;let t=e.author.firstName||"",r=e.author.lastName||"";return t||r?`${t} ${r}`.trim():"Unknown"},C=[{key:"translations",label:"Title",sortable:!0,render:(e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(0,m.EJ)(k(t),50)}),t.featured&&(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 mt-1",children:"Featured"})]})},{key:"status",label:"Status",render:e=>(0,s.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(e)}`,children:P(e)})},{key:"category",label:"Category",render:(e,t)=>(0,s.jsx)("span",{className:"text-sm text-gray-500",children:t.category?.translations[0]?.name||"Uncategorized"})},{key:"author",label:"Author",render:(e,t)=>(0,s.jsx)("span",{className:"text-sm text-gray-500",children:S(t)})},{key:"updatedAt",label:"Date",sortable:!0,render:e=>(0,s.jsx)("span",{className:"text-sm text-gray-500",children:(0,m.Yq)(e)})},{key:"id",label:"Actions",className:"text-right",render:(e,t)=>(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(l(),{href:`/admin/posts/${t.id}/edit`,className:"text-indigo-600 hover:text-indigo-900 text-sm font-medium",children:"Edit"}),(0,s.jsx)(l(),{href:`/posts/${t.translations[0]?.slug||t.id}`,className:"text-gray-600 hover:text-gray-900 text-sm font-medium",target:"_blank",children:"View"})]})}];return(0,s.jsxs)("div",{className:"py-6 space-y-6",children:[(0,s.jsx)(c.default,{title:"Content Management",description:"Manage all your posts and articles",actions:[{label:"New Post",href:w?`/admin/posts/new?category=${w}`:"/admin/posts/new",icon:(0,s.jsx)(o,{className:"h-4 w-4"}),variant:"primary"}]}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,s.jsx)("div",{className:"w-full lg:w-64 flex-shrink-0",children:(0,s.jsxs)("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Filter by Category"})}),(0,s.jsx)("nav",{className:"p-2",children:(0,s.jsxs)("ul",{className:"space-y-1",children:[(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>N(),className:`w-full text-left px-3 py-2 text-sm rounded-md transition-colors ${w?"text-gray-700 hover:bg-gray-50":"bg-indigo-50 text-indigo-700 font-medium"}`,children:"All Posts"})}),i.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>N(e.id),className:`w-full text-left px-3 py-2 text-sm rounded-md transition-colors ${w===e.id?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:e.translations[0]?.name||"Unnamed Category"})},e.id))]})})]})}),(0,s.jsxs)("div",{className:"flex-1",children:[b&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:b}),(0,s.jsx)(d.b,{columns:C,data:p,total:v.total,page:v.page,limit:v.limit,onPageChange:r=>{let s=new URLSearchParams(t);s.set("page",r.toString()),e.push(`/admin/content?${s.toString()}`)},onLimitChange:r=>{let s=new URLSearchParams(t);s.set("limit",r.toString()),s.set("page","1"),e.push(`/admin/content?${s.toString()}`)},onSearch:r=>{let s=new URLSearchParams(t);r?s.set("search",r):s.delete("search"),s.set("page","1"),e.push(`/admin/content?${s.toString()}`)},loading:g,searchPlaceholder:"Search posts by title or content..."})]})]})]})}},22511:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(45512),a=r(58009),n=r.n(a),i=r(28531),l=r.n(i),o=r(38447);function d({title:e,description:t,buttonText:r,buttonHref:a,buttonPermission:i,buttonAction:d,actions:c}){let m=r&&(a||d),u=e=>{let t="ml-3 inline-flex items-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2";switch(e){case"secondary":return`${t} border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-indigo-500`;case"danger":return`${t} border-transparent bg-red-600 text-white hover:bg-red-700 focus:ring-red-500`;default:return`${t} border-transparent bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500`}},x=(0,s.jsx)("button",{onClick:d,className:u(),children:r}),p=(0,s.jsx)(l(),{href:a||"#",className:u(),children:r});return(0,s.jsxs)("div",{className:"md:flex md:items-center md:justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:e}),t&&(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:t})]}),(0,s.jsxs)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:[m&&i?(0,s.jsx)(o.A,{permissions:i,children:a?p:x}):m&&(a?p:x),c&&c.map((e,t)=>{let r=(0,s.jsx)(n().Fragment,{children:e.href?(0,s.jsxs)(l(),{href:e.href,className:u(e.variant),children:[e.icon&&(0,s.jsx)("span",{className:"mr-2",children:e.icon}),e.label]}):(0,s.jsxs)("button",{onClick:e.onClick,className:u(e.variant),children:[e.icon&&(0,s.jsx)("span",{className:"mr-2",children:e.icon}),e.label]})},t);return e.permission?(0,s.jsx)(o.A,{permissions:e.permission,children:r},t):r})]})]})}},84183:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});var s=r(45512),a=r(58009),n=r(87327);let i=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))});var l=r(78483);function o({columns:e,data:t,total:r,page:o,limit:d,onPageChange:c,onLimitChange:m,onSort:u,onSearch:x,onFilter:p,loading:h=!1,searchPlaceholder:g="Search..."}){let[f,b]=(0,a.useState)(null),[y,v]=(0,a.useState)("asc"),[j,w]=(0,a.useState)(""),N=e=>{let t=f===e&&"asc"===y?"desc":"asc";b(e),v(t),u?.(e,t)},k=e=>{w(e),x?.(e)},E=Math.ceil(r/d),P=Math.min(o*d,r);return(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[x&&(0,s.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"relative max-w-md",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(n.A,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)("input",{type:"text",placeholder:g,value:j,onChange:e=>k(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsx)("tr",{children:e.map(e=>(0,s.jsx)("th",{onClick:()=>e.sortable&&N(e.key),className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${e.sortable?"cursor-pointer hover:bg-gray-100":""} ${e.className||""}`,children:(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("span",{children:e.label}),e.sortable&&(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(i,{className:`h-3 w-3 ${f===e.key&&"asc"===y?"text-indigo-600":"text-gray-300"}`}),(0,s.jsx)(l.A,{className:`h-3 w-3 -mt-1 ${f===e.key&&"desc"===y?"text-indigo-600":"text-gray-300"}`})]})]})},String(e.key)))})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:e.length,className:"px-6 py-12 text-center",children:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})})})}):0===t.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:e.length,className:"px-6 py-12 text-center text-gray-500",children:"No data found"})}):t.map((t,r)=>(0,s.jsx)("tr",{className:"hover:bg-gray-50",children:e.map(e=>(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.render?e.render(t[e.key],t):String(t[e.key]||"")},String(e.key)))},r))})]})}),(0,s.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,s.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,s.jsx)("button",{onClick:()=>c(o-1),disabled:o<=1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,s.jsx)("button",{onClick:()=>c(o+1),disabled:o>=E,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,s.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,s.jsx)("span",{className:"font-medium",children:(o-1)*d+1})," to"," ",(0,s.jsx)("span",{className:"font-medium",children:P})," of"," ",(0,s.jsx)("span",{className:"font-medium",children:r})," results"]}),(0,s.jsxs)("select",{value:d,onChange:e=>m(Number(e.target.value)),className:"border border-gray-300 rounded-md text-sm px-2 py-1 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,s.jsx)("option",{value:10,children:"10 per page"}),(0,s.jsx)("option",{value:25,children:"25 per page"}),(0,s.jsx)("option",{value:50,children:"50 per page"}),(0,s.jsx)("option",{value:100,children:"100 per page"})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,s.jsx)("button",{onClick:()=>c(o-1),disabled:o<=1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),E>1&&(()=>{let e=[],t=[];for(let t=Math.max(2,o-2);t<=Math.min(E-1,o+2);t++)e.push(t);return o-2>2?t.push(1,"..."):t.push(1),t.push(...e),o+2<E-1?t.push("...",E):t.push(E),t})().map((e,t)=>"..."===e?(0,s.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},t):(0,s.jsx)("button",{onClick:()=>c(e),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o===e?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:e},t)),(0,s.jsx)("button",{onClick:()=>c(o+1),disabled:o>=E,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]})}},44195:(e,t,r)=>{"use strict";r.d(t,{EJ:()=>l,Yq:()=>i,bT:()=>d,cn:()=>n,tr:()=>o});var s=r(82281),a=r(94805);function n(...e){return(0,a.QP)((0,s.$)(e))}function i(e,t="en-US"){if(!e)return"";let r="string"==typeof e?new Date(e):e;return isNaN(r.getTime())?"":r.toLocaleDateString(t,{year:"numeric",month:"long",day:"numeric"})}function l(e,t=100){return!e||e.length<=t?e||"":e.substring(0,t).trim()+"..."}let o=(e,t="en")=>{let r=new Date(e);return new Intl.DateTimeFormat("ar"===t?"ar-AE":"en-US",{year:"numeric",month:"long",day:"numeric"}).format(r)},d=(e,t,r="en",s="name")=>{if(!e||0===e.length)return;let a=e.find(e=>e.locale===t);if(a)return a[s];let n=e.find(e=>e.locale===r);return n?n[s]:e[0][s]}},93027:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\press\\\\src\\\\app\\\\admin\\\\content\\\\page-client.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\press\\src\\app\\admin\\content\\page-client.tsx","default")},55355:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>i});var s=r(62740),a=r(76301),n=r(93027);let i={title:"Content Management | Admin Dashboard",description:"Manage all your posts and articles"};function l(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading content management..."}),children:(0,s.jsx)(n.default,{})})}},78483:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(58009);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))})},87327:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(58009);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,6154,3928,2367,4549,8621,574],()=>r(63031));module.exports=s})();