(()=>{var e={};e.id=5858,e.ids=[5858],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},58349:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(70260),n=r(28203),a=r(25155),o=r.n(a),i=r(67292),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["posts",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9085)),"D:\\press\\src\\app\\posts\\[slug]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"D:\\press\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\press\\src\\app\\posts\\[slug]\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/posts/[slug]/page",pathname:"/posts/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},34637:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,59607,23)),Promise.resolve().then(r.t.bind(r,71066,23)),Promise.resolve().then(r.bind(r,49052))},81901:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,28531,23)),Promise.resolve().then(r.t.bind(r,41902,23)),Promise.resolve().then(r.bind(r,56860))},9085:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(62740);r(76301);var n=r(44512),a=r(35635),o=r(59607),i=r.n(o),l=r(96330),d=r(49052),c=r(43327),u=r(84908);function p({children:e}){return(0,s.jsxs)("div",{className:"error-boundary",children:[(0,s.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:[(0,s.jsx)("h2",{className:"text-red-800 font-semibold",children:"Something went wrong"}),(0,s.jsx)("p",{className:"text-red-600",children:"We couldn't load this post. Please try again later."})]}),e]})}function m({locale:e="en"}){let t="ar"===e;return(0,s.jsx)(d.default,{children:(0,s.jsx)("div",{className:`container mx-auto py-16 px-4 ${t?"rtl":"ltr"}`,dir:t?"rtl":"ltr",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-6",children:t?"المنشور غير موجود":"Post Not Found"}),(0,s.jsx)("p",{className:"text-lg mb-8",children:t?"عذراً، لا يمكننا العثور على المنشور الذي تبحث عنه.":"Sorry, we couldn't find the post you're looking for."}),(0,s.jsx)(i(),{href:"/",className:"inline-block px-6 py-3 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition",children:t?"العودة إلى الصفحة الرئيسية":"Return to Home Page"})]})})})}async function x(e){try{let t=decodeURIComponent(e),r=await (0,n.UL)(),s=r.get("NEXT_LOCALE")?.value||"en",a=await u.default.post.findFirst({where:{translations:{some:{slug:t}},status:l.PostStatus.PUBLISHED},include:{translations:!0,category:{include:{translations:!0}},postAuthor:!0,media:!0}});if(!a)return console.log(`No post found with slug: "${t}"`),null;let o=a.translations.find(e=>e.locale===s)||a.translations[0],i=a.category?.translations?.find(e=>e.locale===s)||a.category?.translations?.[0];return{post:a,postTranslation:o,categoryTranslation:i}}catch(e){return console.error("Error fetching post:",e),null}}async function h(e){try{let t=await (0,n.UL)(),r=t.get("NEXT_LOCALE")?.value||"en",o="ar"===r,u=(await e.params).slug;console.log(`Processing request for post with slug: "${u}"`);let p=await x(u);if(!p)return console.log(`Returning 404 for slug: "${u}"`),(0,s.jsx)(m,{locale:r});let{post:h,postTranslation:f,categoryTranslation:g}=p,v=h.media.find(e=>e.type===l.MediaType.IMAGE),y=v?v.url:"/images/default-post-image.svg",b=h.postAuthor,j=b?"ar"===r&&b.nameAr?b.nameAr:b.nameEn:"Phoenix Staff",w=b?.country,N=b?.avatar;return(0,s.jsx)(d.default,{children:(0,s.jsx)("div",{className:`container mx-auto py-8 px-4 ${o?"rtl":"ltr"}`,dir:o?"rtl":"ltr",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)(i(),{href:`/categories/${g.slug}`,className:"inline-block px-3 py-1 bg-primary-600 text-white rounded-md mb-4 hover:bg-primary-700 transition",children:g.name}),(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:f.title}),(0,s.jsx)("div",{className:"flex items-center text-gray-600 mb-6 gap-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[N&&(0,s.jsx)("img",{src:N,alt:j,className:"w-8 h-8 rounded-full object-cover"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("span",{className:"font-medium text-gray-900",children:[j,w&&(0,s.jsxs)("span",{className:"text-gray-700",children:[" - ",w]})]}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:(0,c.tr)((h.publishedAt||h.createdAt).toISOString(),r)})]})]})}),(0,s.jsx)("div",{className:"relative w-full h-[400px] mb-8 rounded-lg overflow-hidden",children:(0,s.jsx)(a.default,{src:y,alt:f.title,fill:!0,className:"object-fill w-full h-full",priority:!0,sizes:"(max-width: 768px) 100vw, 1024px",quality:90})}),(0,s.jsx)("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:f.content}})]})})})}catch(e){return console.error("Error rendering post page:",e),(0,s.jsx)(d.default,{children:(0,s.jsx)(p,{children:(0,s.jsx)("div",{className:"container mx-auto py-8 px-4",children:(0,s.jsx)(i(),{href:"/",className:"text-primary-600 hover:underline",children:"← Return to Home"})})})})}}},49052:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(46760);(0,s.registerClientReference)(function(){throw Error("Attempted to call MainLayout() from the server but MainLayout is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\press\\src\\components\\layouts\\MainLayout.tsx","MainLayout");let n=(0,s.registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\press\\\\src\\\\components\\\\layouts\\\\MainLayout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\press\\src\\components\\layouts\\MainLayout.tsx","default")},84908:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,prisma:()=>n});var s=r(96330);let n=global.prisma||new s.PrismaClient({log:["query","error","warn"]}),a=n},43327:(e,t,r)=>{"use strict";r.d(t,{tr:()=>s});let s=(e,t="en")=>{let r=new Date(e);return new Intl.DateTimeFormat("ar"===t?"ar-AE":"en-US",{year:"numeric",month:"long",day:"numeric"}).format(r)}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,6154,3928,2367,4512,5103,8685,7528],()=>r(58349));module.exports=s})();