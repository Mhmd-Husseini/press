(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2959],{6015:(e,t,r)=>{Promise.resolve().then(r.bind(r,8334))},6046:(e,t,r)=>{"use strict";var a=r(6658);r.o(a,"notFound")&&r.d(t,{notFound:function(){return a.notFound}}),r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},8334:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(5155),s=r(2115),l=r(6046),n=r(8173),c=r.n(n),i=r(5565),o=r(1567);let d=e=>{let{id:t,title:r,summary:s,slug:l,imageUrl:n,media:d,authorName:h,category:u,publishedAt:m,featured:x=!1,size:g="medium",variant:f="vertical",priority:p=!1,locale:b="en"}=e,j=(()=>{let e="bg-white border border-gray-100 overflow-hidden transition-shadow duration-200 hover:shadow-md";return"horizontal"===f?"".concat(e," flex items-start"):x?"".concat(e," relative border-l-4 border-l-red-600"):e})(),v=(()=>{switch(g){case"small":return"text-base font-semibold line-clamp-2 mb-1";case"large":return"text-2xl font-bold line-clamp-3 mb-2";default:return"text-xl font-bold line-clamp-2 mb-2"}})(),N=(()=>{switch(g){case"small":return"horizontal"===f?{width:"100px",height:"70px"}:{width:"100%",height:"160px"};case"large":return{width:"100%",height:"320px"};default:return{width:"100%",height:"200px"}}})(),y="/images/default-post-image.svg",w="ar"===b;return"horizontal"===f?(0,a.jsxs)("article",{className:j,children:[(0,a.jsx)("div",{className:"flex-shrink-0",style:{width:N.width},children:(0,a.jsx)(c(),{href:"/posts/".concat(encodeURIComponent(l)),className:"block relative",style:{height:N.height},children:(0,a.jsx)(i.default,{src:n||y,alt:r,fill:!0,className:"object-fill w-full h-full",priority:p,style:{objectPosition:"center"}})})}),(0,a.jsxs)("div",{className:"flex-grow p-3",children:[(0,a.jsx)("h3",{className:v,children:(0,a.jsx)(c(),{href:"/posts/".concat(encodeURIComponent(l)),className:"text-gray-900 hover:text-blue-600 transition-colors",children:r})}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[u&&(0,a.jsx)(c(),{href:"/categories/".concat(encodeURIComponent(u.slug)),className:"text-blue-600 hover:text-blue-800 mr-2",children:u.name}),(0,a.jsx)("span",{className:"text-gray-500 text-xs ".concat(w?"text-right":"text-left"),children:(0,o.tr)(m,b)})]})]})]}):(0,a.jsxs)("article",{className:j,children:[(0,a.jsxs)("div",{className:"relative",style:{height:N.height},children:[(0,a.jsx)(c(),{href:"/posts/".concat(encodeURIComponent(l)),className:"block relative h-full",children:(0,a.jsx)(i.default,{src:n||y,alt:r,fill:!0,className:"object-fill w-full h-full",priority:p})}),u&&(0,a.jsx)("div",{className:"absolute bottom-3 left-3 z-10",children:(0,a.jsx)(c(),{href:"/categories/".concat(encodeURIComponent(u.slug)),className:"text-xs font-medium text-white uppercase tracking-wider bg-red-800 px-2 py-1 rounded",children:u.name})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:v,children:(0,a.jsx)(c(),{href:"/posts/".concat(encodeURIComponent(l)),className:"text-gray-900 hover:text-blue-600 transition-colors",children:r})}),s&&"small"!==g&&(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:s}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[(0,a.jsx)("span",{children:h||"Phoenix Staff"}),(0,a.jsx)("span",{className:"text-gray-500 text-xs ".concat(w?"text-right":"text-left"),children:(0,o.tr)(m,b)})]})]})]})};var h=r(1772);function u(){let e=(0,l.useSearchParams)(),t=e.get("q")||"",r=e.get("locale")||"en",n="ar"===r,[c,i]=(0,s.useState)([]),[o,h]=(0,s.useState)(!0),[u,m]=(0,s.useState)(null),[x,g]=(0,s.useState)(0);return(0,s.useEffect)(()=>{if(!t.trim()){i([]),h(!1);return}(async()=>{try{h(!0);let e=await fetch("/api/search?q=".concat(encodeURIComponent(t),"&locale=").concat(r));if(!e.ok)throw Error("Failed to fetch search results");let a=await e.json();i(a.results),g(a.total),m(null)}catch(e){console.error("Error fetching search results:",e),m("An error occurred while searching. Please try again.")}finally{h(!1)}})()},[t,r]),(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",dir:n?"rtl":"ltr",children:t.trim()||o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2 ".concat(n?"text-right":"text-left"),children:n?"نتائج البحث":"Search Results"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6 ".concat(n?"text-right":"text-left"),children:n?"".concat(x,' نتيجة لـ "').concat(t,'"'):"".concat(x,' results for "').concat(t,'"')}),o?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-md p-4 animate-pulse",children:[(0,a.jsx)("div",{className:"w-full h-48 bg-gray-300 rounded mb-4"}),(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-2/3"})]},e))}):u?(0,a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:(0,a.jsx)("p",{children:u})}):0===c.length?(0,a.jsx)("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:(0,a.jsx)("p",{className:"text-gray-600",children:n?'لم يتم العثور على نتائج لـ "'.concat(t,'". يرجى تجربة مصطلح بحث مختلف.'):'No results found for "'.concat(t,'". Please try a different search term.')})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:c.map(e=>(0,a.jsx)(d,{id:e.id,title:e.title,summary:e.excerpt,slug:e.slug,imageUrl:e.imageUrl||"/images/default-post-image.svg",authorName:e.authorName||"Phoenix Staff",publishedAt:e.publishedAt||e.createdAt,size:"medium",variant:"vertical",locale:"en"},e.id))})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6 ".concat(n?"text-right":"text-left"),children:n?"البحث":"Search"}),(0,a.jsx)("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:(0,a.jsx)("p",{className:"text-gray-600",children:n?"يرجى إدخال مصطلح البحث في شريط البحث أعلاه للعثور على الأخبار.":"Please enter a search term in the search bar above to find news."})})]})})}function m(){return(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/4 mx-auto mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/2 mx-auto"})]})})})}function x(){return(0,a.jsx)(h.default,{children:(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(m,{}),children:(0,a.jsx)(u,{})})})}},1567:(e,t,r)=>{"use strict";r.d(t,{EJ:()=>c,Yq:()=>n,bT:()=>o,cn:()=>l,tr:()=>i});var a=r(3463),s=r(9795);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if(!e)return"";let r="string"==typeof e?new Date(e):e;return isNaN(r.getTime())?"":r.toLocaleDateString(t,{year:"numeric",month:"long",day:"numeric"})}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return!e||e.length<=t?e||"":e.substring(0,t).trim()+"..."}let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",r=new Date(e);return new Intl.DateTimeFormat("ar"===t?"ar-AE":"en-US",{year:"numeric",month:"long",day:"numeric"}).format(r)},o=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"name";if(!e||0===e.length)return;let s=e.find(e=>e.locale===t);if(s)return s[a];let l=e.find(e=>e.locale===r);return l?l[a]:e[0][a]}}},e=>{var t=t=>e(e.s=t);e.O(0,[8173,5565,1181,1772,8441,1517,7358],()=>t(6015)),_N_E=e.O()}]);