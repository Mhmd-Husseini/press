(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{2736:(e,s,t)=>{Promise.resolve().then(t.bind(t,8796))},8796:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>_});var r=t(5155),a=t(2115),l=t(1567);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border border-gray-200 bg-white text-gray-900 shadow-sm",t),...a})});n.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-gray-500",t),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter";var x=t(5083);let m=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(x.bL,{ref:s,className:(0,l.cn)("data-[orientation=vertical]:flex data-[orientation=vertical]:flex-row",t),...a})});m.displayName=x.bL.displayName;let u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(x.B8,{ref:s,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});u.displayName=x.B8.displayName;let h=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(x.l9,{ref:s,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});h.displayName=x.l9.displayName;let f=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(x.UC,{ref:s,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});f.displayName=x.UC.displayName;var j=t(3387);let g=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(j.bL,{ref:s,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a})});g.displayName=j.bL.displayName;let v=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(j._V,{ref:s,className:(0,l.cn)("aspect-square h-full w-full",t),...a})});v.displayName=j._V.displayName;let p=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(j.H4,{ref:s,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a})});p.displayName=j.H4.displayName;let N=(0,t(1027).F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function b(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(N({variant:t}),s),...a})}function y(e){let{data:s,height:t=300,colors:l=["#4f46e5"],xAxisKey:n="name",yAxisKey:i="value"}=e,c=(0,a.useRef)(null),[d,o]=(0,a.useState)(0);return(0,a.useEffect)(()=>{if(s&&s.length>0){let e=Math.max(...s.map(e=>e.value));o(e+.1*e)}},[s]),(0,r.jsx)("div",{className:"w-full overflow-hidden",style:{height:"".concat(t,"px")},children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex flex-1",children:[(0,r.jsxs)("div",{className:"w-12 flex flex-col justify-between text-xs text-gray-500 pb-6",children:[(0,r.jsx)("div",{children:d.toLocaleString()}),(0,r.jsx)("div",{children:(.75*d).toLocaleString()}),(0,r.jsx)("div",{children:(.5*d).toLocaleString()}),(0,r.jsx)("div",{children:(.25*d).toLocaleString()}),(0,r.jsx)("div",{children:"0"})]}),(0,r.jsx)("div",{className:"flex-1 flex items-end justify-around",ref:c,children:s.map((e,s)=>{let t=d>0?e.value/d*100:0;return(0,r.jsx)("div",{className:"flex flex-col items-center flex-1",children:(0,r.jsx)("div",{className:"w-full max-w-[50px] rounded-t-md mx-1 transition-all duration-500",style:{height:"".concat(t,"%"),backgroundColor:e.color||l[s%l.length]}})},e.name)})})]}),(0,r.jsx)("div",{className:"flex pl-12",children:s.map(e=>(0,r.jsx)("div",{className:"flex-1 text-center text-xs text-gray-600 truncate px-1",children:e.name},e.name))})]})})}function w(e){let{data:s,height:t=300,colors:l=["#4f46e5"],xAxisKey:n="name",yAxisKey:i="value"}=e,c=(0,a.useRef)(null),[d,o]=(0,a.useState)(0),[x,m]=(0,a.useState)("");return(0,a.useEffect)(()=>{if(s&&s.length>0&&c.current){let e=Math.max(...s.map(e=>e.value));o(e+.1*e);let t=c.current.clientWidth,r=c.current.clientHeight,a=t/(s.length-1||1);m(s.map((e,s)=>{let t=r-r*(e.value/d);return"".concat(0===s?"M":"L"," ").concat(s*a,",").concat(t)}).join(" "))}},[s,d]),(0,r.jsx)("div",{className:"w-full overflow-hidden",style:{height:"".concat(t,"px")},children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex flex-1",children:[(0,r.jsxs)("div",{className:"w-12 flex flex-col justify-between text-xs text-gray-500 pb-6",children:[(0,r.jsx)("div",{children:d.toLocaleString()}),(0,r.jsx)("div",{children:(.75*d).toLocaleString()}),(0,r.jsx)("div",{children:(.5*d).toLocaleString()}),(0,r.jsx)("div",{children:(.25*d).toLocaleString()}),(0,r.jsx)("div",{children:"0"})]}),(0,r.jsxs)("div",{className:"flex-1 relative",ref:c,children:[(0,r.jsx)("div",{className:"absolute inset-0 border-b border-gray-200 h-1/4"}),(0,r.jsx)("div",{className:"absolute inset-0 border-b border-gray-200 h-2/4"}),(0,r.jsx)("div",{className:"absolute inset-0 border-b border-gray-200 h-3/4"}),(0,r.jsx)("div",{className:"absolute inset-0 border-b border-gray-200"}),x&&(0,r.jsxs)("svg",{className:"absolute inset-0 h-full w-full",children:[(0,r.jsx)("path",{d:x,fill:"none",stroke:l[0],strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.map((e,t)=>{var a,n;let i=(null===(a=c.current)||void 0===a?void 0:a.clientWidth)||0,o=(null===(n=c.current)||void 0===n?void 0:n.clientHeight)||0,x=i/(s.length-1||1),m=o-o*(e.value/d);return(0,r.jsx)("circle",{cx:t*x,cy:m,r:"4",fill:"white",stroke:l[0],strokeWidth:"2"},t)})]})]})]}),(0,r.jsx)("div",{className:"flex pl-12",children:s.map(e=>(0,r.jsx)("div",{className:"flex-1 text-center text-xs text-gray-600 truncate px-1",children:e.name},e.name))})]})})}function C(e){let{data:s,height:t=300}=e,[l,n]=(0,a.useState)([]);(0,a.useEffect)(()=>{if(s&&s.length>0){let e=s.reduce((e,s)=>e+s.value,0),t=0;n(s.map(s=>{let r=e>0?s.value/e*100:0,a=r/100*360,l={color:s.color||"#6b7280",startAngle:t,endAngle:t+a,percent:r};return t+=a,l}))}},[s]);let i=(e,s)=>{let t=(e-90)*Math.PI/180,r=(s-90)*Math.PI/180,a=150+100*Math.cos(t),l=150+100*Math.sin(t),n=150+100*Math.cos(r),i=150+100*Math.sin(r);return"M ".concat(150," ").concat(150," L ").concat(a," ").concat(l," A ").concat(100," ").concat(100," 0 ").concat(s-e<=180?0:1," 1 ").concat(n," ").concat(i," Z")};return(0,r.jsx)("div",{className:"flex justify-center items-center w-full",style:{height:"".concat(t,"px")},children:(0,r.jsxs)("div",{className:"relative h-full",children:[(0,r.jsx)("svg",{width:"300",height:"300",viewBox:"0 0 300 300",children:l.map((e,s)=>(0,r.jsx)("path",{d:i(e.startAngle,e.endAngle),fill:e.color},s))}),(0,r.jsx)("div",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 space-y-1",children:s.map((e,s)=>{var t;return(0,r.jsxs)("div",{className:"flex items-center text-xs",children:[(0,r.jsx)("div",{className:"w-3 h-3 mr-1",style:{backgroundColor:e.color||"#6b7280"}}),(0,r.jsxs)("span",{children:[e.name,": ",null===(t=l[s])||void 0===t?void 0:t.percent.toFixed(1),"%"]})]},s)})})]})})}var A=t(5202),S=t(1649),k=t(8173),P=t.n(k),L=t(1594),R=t(3473),E=t(4081),D=t(2598),M=t(8251),U=t(2823),T=t(6889),I=t(872);function _(){let{user:e}=(0,A.A)(),[s,t]=(0,a.useState)(null),[l,x]=(0,a.useState)(!0),[j,N]=(0,a.useState)(null),[k,_]=(0,a.useState)("overview");(0,a.useEffect)(()=>{!async function(){try{x(!0);let e=await fetch("/api/admin/dashboard");if(!e.ok)throw Error("Failed to fetch dashboard stats");let s=await e.json();t(s),N(null)}catch(e){console.error("Error fetching dashboard stats:",e),N("Failed to load dashboard data. Please try again later.")}finally{x(!1)}}()},[]);let V=e=>{switch(e.toLowerCase()){case"published":return"bg-green-100 text-green-800";case"draft":default:return"bg-gray-100 text-gray-800";case"scheduled":return"bg-blue-100 text-blue-800";case"waiting_approval":return"bg-yellow-100 text-yellow-800"}},F=e=>{switch(e.toLowerCase()){case"published":return"Published";case"draft":return"Draft";case"scheduled":return"Scheduled";case"waiting_approval":return"Review";default:return e}};if(l)return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading dashboard data..."})]})});if(j)return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(L.A,{className:"h-12 w-12 text-red-500 mx-auto"}),(0,r.jsx)("h3",{className:"mt-4 text-lg font-medium",children:"Error Loading Dashboard"}),(0,r.jsx)("p",{className:"mt-2 text-muted-foreground",children:j}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Try Again"})]})});if(!s)return null;let O=s.postsPerCategory.map(e=>({name:e.name,value:e.count,color:"hsl(".concat(Math.floor(360*Math.random()),", 70%, 50%)")})),W=s.postsPerStatus.map(e=>{let s="#6b7280";switch(e.status.toLowerCase()){case"published":s="#10b981";break;case"draft":s="#6b7280";break;case"scheduled":s="#3b82f6";break;case"waiting_approval":s="#f59e0b"}return{name:F(e.status),value:e.count,color:s}}),H=s.viewsOverTime.map(e=>({name:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),value:e.views}));return(0,r.jsxs)("div",{className:"space-y-6 p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,r.jsxs)("p",{className:"text-muted-foreground",children:["Welcome back, ",(null==e?void 0:e.firstName)||(null==e?void 0:e.email)||"User"]})]}),(0,r.jsxs)(P(),{href:"/admin/posts/new",className:"flex items-center bg-primary text-white px-4 py-2 rounded-md hover:bg-primary/90",children:[(0,r.jsx)(R.A,{className:"mr-2 h-4 w-4"}),"Create New Post"]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(n,{children:[(0,r.jsxs)(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c,{className:"text-sm font-medium",children:"Total Posts"}),(0,r.jsx)(E.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(o,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:s.totalPosts}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[s.publishedPosts," published \xb7 ",s.draftPosts," drafts"]})]})]}),(0,r.jsxs)(n,{children:[(0,r.jsxs)(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c,{className:"text-sm font-medium",children:"Total Views"}),(0,r.jsx)(D.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(o,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:s.totalViews.toLocaleString()}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-green-600",children:[(0,r.jsx)(M.A,{className:"h-3 w-3 mr-1"}),(0,r.jsx)("span",{children:"+12% from last month"})]})]})]}),(0,r.jsxs)(n,{children:[(0,r.jsxs)(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c,{className:"text-sm font-medium",children:"Active Users"}),(0,r.jsx)(U.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(o,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:s.activeUsers}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[s.totalUsers," total registered users"]})]})]}),(0,r.jsxs)(n,{children:[(0,r.jsxs)(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c,{className:"text-sm font-medium",children:"Pending Approvals"}),(0,r.jsx)(T.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(o,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:s.pendingApprovals}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Waiting for review"})]})]})]}),(0,r.jsxs)(m,{defaultValue:"overview",className:"space-y-4",onValueChange:_,children:[(0,r.jsxs)(u,{children:[(0,r.jsx)(h,{value:"overview",children:"Overview"}),(0,r.jsx)(h,{value:"editorial",children:"Editorial"}),"EDITOR"===s.userRole&&(0,r.jsx)(h,{value:"yours",children:"Your Content"})]}),(0,r.jsxs)(f,{value:"overview",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[(0,r.jsxs)(n,{className:"col-span-4",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{children:"Content Performance"}),(0,r.jsx)(d,{children:"Post views over the last 30 days"})]}),(0,r.jsx)(o,{className:"px-2",children:(0,r.jsx)(w,{data:H,height:350})})]}),(0,r.jsxs)(n,{className:"col-span-3",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{children:"Content Distribution"}),(0,r.jsx)(d,{children:"Posts by status"})]}),(0,r.jsx)(o,{children:(0,r.jsx)(C,{data:W,height:300})})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[(0,r.jsxs)(n,{className:"col-span-3",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{children:"Categories"}),(0,r.jsx)(d,{children:"Posts per category"})]}),(0,r.jsx)(o,{className:"px-2",children:(0,r.jsx)(y,{data:O,height:300})})]}),(0,r.jsxs)(n,{className:"col-span-4",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{children:"Recent Activity"}),(0,r.jsx)(d,{children:"Latest content updates"})]}),(0,r.jsx)(o,{children:(0,r.jsx)("div",{className:"space-y-8",children:s.recentPosts.slice(0,5).map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)(g,{className:"h-9 w-9",children:[(0,r.jsx)(v,{src:e.author.image,alt:e.author.name}),(0,r.jsx)(p,{children:e.author.name.substring(0,2).toUpperCase()})]}),(0,r.jsxs)("div",{className:"ml-4 space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium leading-none",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["By ",e.author.name," \xb7 ",(0,S.m)(new Date(e.createdAt),{addSuffix:!0})]})]}),(0,r.jsxs)("div",{className:"ml-auto flex items-center space-x-2",children:[(0,r.jsx)(b,{className:V(e.status),children:F(e.status)}),(0,r.jsx)(P(),{href:"/admin/posts/".concat(e.id,"/edit"),className:"p-1 rounded-md hover:bg-gray-100",children:(0,r.jsx)(I.A,{className:"h-4 w-4 text-gray-500"})})]})]},e.id))})})]})]})]}),(0,r.jsxs)(f,{value:"editorial",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,r.jsxs)(n,{className:"col-span-2",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{children:"Editorial Calendar"}),(0,r.jsx)(d,{children:"Upcoming content publication schedule"})]}),(0,r.jsxs)(o,{children:[(0,r.jsx)("div",{className:"space-y-4",children:s.recentPosts.slice(0,3).map(e=>(0,r.jsxs)("div",{className:"flex items-center p-3 border rounded-md bg-gray-50",children:[(0,r.jsxs)("div",{className:"w-16 text-center",children:[(0,r.jsx)("div",{className:"font-medium text-primary",children:new Date(e.createdAt).getDate()}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleString("default",{month:"short"})})]}),(0,r.jsxs)("div",{className:"ml-4 flex-1",children:[(0,r.jsx)("p",{className:"font-medium",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["By ",e.author.name]})]}),(0,r.jsx)(b,{className:V(e.status),children:F(e.status)})]},e.id))}),(0,r.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Showing recent posts only"}),(0,r.jsx)(P(),{href:"/admin/content",className:"text-sm text-primary hover:underline",children:"View all posts"})]})]})]}),(0,r.jsxs)(n,{children:[(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{children:"Editorial Workflow"}),(0,r.jsx)(d,{children:"Content approval process"})]}),(0,r.jsx)(o,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded-md bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-yellow-100 text-yellow-600 flex items-center justify-center text-xs font-bold",children:s.pendingApprovals}),(0,r.jsx)("span",{className:"ml-3 font-medium",children:"Pending Approval"})]}),(0,r.jsx)(P(),{href:"/admin/content?status=WAITING_APPROVAL",className:"text-xs text-primary hover:underline",children:"View"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded-md bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-xs font-bold",children:s.draftPosts}),(0,r.jsx)("span",{className:"ml-3 font-medium",children:"Drafts"})]}),(0,r.jsx)(P(),{href:"/admin/content?status=DRAFT",className:"text-xs text-primary hover:underline",children:"View"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded-md bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-xs font-bold",children:s.publishedPosts}),(0,r.jsx)("span",{className:"ml-3 font-medium",children:"Published"})]}),(0,r.jsx)(P(),{href:"/admin/content?status=PUBLISHED",className:"text-xs text-primary hover:underline",children:"View"})]})]})})]})]}),(0,r.jsxs)(n,{children:[(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{children:"Content Planning"}),(0,r.jsx)(d,{children:"Topics and ideas for upcoming content"})]}),(0,r.jsx)(o,{children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 p-4 border rounded-md bg-gray-50",children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:"Quick Content Ideas"}),(0,r.jsxs)("ul",{className:"space-y-2 list-disc pl-5 text-sm",children:[(0,r.jsx)("li",{children:"Top 10 trends in your industry"}),(0,r.jsx)("li",{children:"Interview with industry expert"}),(0,r.jsx)("li",{children:"How-to guide for beginners"}),(0,r.jsx)("li",{children:"Case study of successful implementation"}),(0,r.jsx)("li",{children:"Product review or comparison"})]})]}),(0,r.jsxs)("div",{className:"flex-1 p-4 border rounded-md bg-gray-50",children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:"Editorial Guidelines"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Remember to follow our content guidelines when creating new posts:"}),(0,r.jsxs)("ul",{className:"space-y-2 list-disc pl-5 text-sm mt-2",children:[(0,r.jsx)("li",{children:"Use clear, concise language"}),(0,r.jsx)("li",{children:"Include relevant keywords for SEO"}),(0,r.jsx)("li",{children:"Add at least one high-quality image"}),(0,r.jsx)("li",{children:"Provide actionable insights for readers"}),(0,r.jsx)("li",{children:"Fact-check all information before submission"})]})]})]})})]})]}),"EDITOR"===s.userRole&&(0,r.jsx)(f,{value:"yours",children:(0,r.jsxs)(n,{children:[(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{children:"Your Content"}),(0,r.jsx)(d,{children:"Content authored or managed by you"})]}),(0,r.jsx)(o,{children:(0,r.jsx)("div",{className:"space-y-8",children:s.recentPosts.map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium leading-none",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Created ",(0,S.m)(new Date(e.createdAt),{addSuffix:!0})]})]}),(0,r.jsxs)("div",{className:"ml-auto flex items-center space-x-2",children:[(0,r.jsx)(b,{className:V(e.status),children:F(e.status)}),(0,r.jsx)(P(),{href:"/admin/posts/".concat(e.id,"/edit"),className:"p-1 rounded-md hover:bg-gray-100",children:(0,r.jsx)(I.A,{className:"h-4 w-4 text-gray-500"})})]})]},e.id))})})]})})]})]})}},5202:(e,s,t)=>{"use strict";t.d(s,{AuthProvider:()=>d,A:()=>c});var r=t(5155),a=t(2115),l=t(5828);let n=(0,l.createServerReference)("00d4248e5cc13d9a24c27da7f63c4e748a633f8d0d",l.callServer,void 0,l.findSourceMapURL,"logout"),i=(0,a.createContext)(void 0);function c(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function d(e){let{children:s}=e,[t,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[o,x]=(0,a.useState)(null),m=(0,a.useCallback)(async()=>{try{x(null);let e=await fetch("/api/auth/me",{credentials:"include",cache:"no-store"});if(e.ok)return await e.json();if(401===e.status)return null;throw Error("Failed to fetch user data")}catch(e){return console.error("Failed to load user:",e),x(e instanceof Error?e.message:"Failed to load user"),null}},[]),u=(0,a.useCallback)(async()=>{l(await m())},[m]);(0,a.useEffect)(()=>{let e=!0;return(async()=>{let s=await m();e&&(l(s),d(!1))})(),()=>{e=!1}},[m]);let h=(0,a.useCallback)(e=>!!t&&(!!(t.roles.includes("ADMIN")||t.roles.includes("SUPER_ADMIN"))||t.permissions.includes(e)),[t]),f=(0,a.useCallback)(e=>e.some(e=>h(e)),[h]),j=(0,a.useCallback)(e=>e.every(e=>h(e)),[h]),g=(0,a.useCallback)(async()=>{try{x(null),await n(),l(null),window.location.href="/admin/login"}catch(e){console.error("Logout failed:",e),x(e instanceof Error?e.message:"Logout failed")}},[]),v=a.useMemo(()=>({user:t,loading:c,error:o,setUser:l,hasPermission:h,hasAnyPermissions:f,hasAllPermissions:j,logout:g,refreshUser:u}),[t,c,o,h,f,j,g,u]);return(0,r.jsx)(i.Provider,{value:v,children:s})}},1567:(e,s,t)=>{"use strict";t.d(s,{EJ:()=>i,Yq:()=>n,bT:()=>d,cn:()=>l,tr:()=>c});var r=t(3463),a=t(9795);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}function n(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if(!e)return"";let t="string"==typeof e?new Date(e):e;return isNaN(t.getTime())?"":t.toLocaleDateString(s,{year:"numeric",month:"long",day:"numeric"})}function i(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return!e||e.length<=s?e||"":e.substring(0,s).trim()+"..."}let c=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",t=new Date(e);return new Intl.DateTimeFormat("ar"===s?"ar-AE":"en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)},d=function(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"name";if(!e||0===e.length)return;let a=e.find(e=>e.locale===s);if(a)return a[r];let l=e.find(e=>e.locale===t);return l?l[r]:e[0][r]}}},e=>{var s=s=>e(e.s=s);e.O(0,[8173,1181,4433,8441,1517,7358],()=>s(2736)),_N_E=e.O()}]);