(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3896],{774:(e,a,r)=>{Promise.resolve().then(r.bind(r,3911))},6046:(e,a,r)=>{"use strict";var s=r(6658);r.o(s,"notFound")&&r.d(a,{notFound:function(){return s.notFound}}),r.o(s,"useParams")&&r.d(a,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(a,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(a,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(a,{useSearchParams:function(){return s.useSearchParams}})},3911:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>o});var s=r(5155),t=r(2115),n=r(6046),l=r(8173),i=r.n(l);function o(){let e=(0,n.useRouter)(),[a,r]=(0,t.useState)(!1),[l,o]=(0,t.useState)({nameEn:"",nameAr:"",country:"",bio:"",bioAr:"",email:"",avatar:"",isActive:!0,socialLinks:{}}),[c,d]=(0,t.useState)({}),u=(e,a)=>{o(r=>({...r,[e]:a})),c[e]&&d(a=>({...a,[e]:void 0}))},m=(e,a)=>{o(r=>({...r,socialLinks:{...r.socialLinks,[e]:a}}))},h=()=>{let e={};return l.nameEn.trim()||(e.nameEn="English name is required"),l.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)&&(e.email="Please enter a valid email address"),d(e),0===Object.keys(e).length},x=async a=>{if(a.preventDefault(),h()){r(!0);try{let a=await fetch("/api/admin/authors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...l,socialLinks:Object.keys(l.socialLinks).length>0?l.socialLinks:void 0})});if(a.ok)e.push("/admin/authors");else{let e=await a.json();alert(e.error||"Failed to create author")}}catch(e){console.error("Error creating author:",e),alert("Failed to create author")}finally{r(!1)}}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Add New Author"}),(0,s.jsx)(i(),{href:"/admin/authors",className:"text-gray-600 hover:text-gray-900 font-medium",children:"← Back to Authors"})]}),(0,s.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,s.jsxs)("form",{onSubmit:x,className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"English Name *"}),(0,s.jsx)("input",{type:"text",value:l.nameEn,onChange:e=>u("nameEn",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(c.nameEn?"border-red-500":"border-gray-300"),placeholder:"Enter author's English name"}),c.nameEn&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.nameEn})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arabic Name"}),(0,s.jsx)("input",{type:"text",value:l.nameAr,onChange:e=>u("nameAr",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-arabic text-right",placeholder:"أدخل اسم الكاتب بالعربية",dir:"rtl"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),(0,s.jsx)("input",{type:"text",value:l.country,onChange:e=>u("country",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter author's country"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",value:l.email,onChange:e=>u("email",e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(c.email?"border-red-500":"border-gray-300"),placeholder:"Enter author's email"}),c.email&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c.email})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Biography"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"English Biography"}),(0,s.jsx)("textarea",{rows:4,value:l.bio,onChange:e=>u("bio",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter author's biography in English"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arabic Biography"}),(0,s.jsx)("textarea",{rows:4,value:l.bioAr,onChange:e=>u("bioAr",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-arabic text-right",placeholder:"أدخل السيرة الذاتية للكاتب بالعربية",dir:"rtl"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Social Media Links"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["twitter","facebook","linkedin","instagram"].map(e=>(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 capitalize",children:e}),(0,s.jsx)("input",{type:"url",value:l.socialLinks[e]||"",onChange:a=>m(e,a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://".concat(e,".com/username")})]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Settings"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Avatar URL"}),(0,s.jsx)("input",{type:"url",value:l.avatar,onChange:e=>u("avatar",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/avatar.jpg"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"isActive",checked:l.isActive,onChange:e=>u("isActive",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active (author can be assigned to posts)"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,s.jsx)(i(),{href:"/admin/authors",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:a,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":"Create Author"})]})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[8173,8441,1517,7358],()=>a(774)),_N_E=e.O()}]);